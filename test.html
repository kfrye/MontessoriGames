<!DOCTYPE html>
<html>
<head>
    <script src="http://code.createjs.com/createjs-2013.12.12.min.js"></script>
    <script>
        var sound;
        var stage;
        var circle1;
        var circle2;

        function init() {
            if (!createjs.Sound.initializeDefaultPlugins()) {return;}

            var audioPath = "res/";
            var manifest = [
                {id:"note1", src:"note1.mp3"},
                {id:"note2", src:"note2.mp3"}
            ];

            createjs.Sound.addEventListener("fileload", handleLoad);
            createjs.Sound.registerManifest(manifest, audioPath);
        }

        function handleLoad(event) {
            stage = new createjs.Stage("demoCanvas");
            circle1 = new createjs.Shape();
            circle1.graphics.beginFill("red").drawCircle(0, 0, 50);
            circle1.x = 100;
            circle1.y = 100;
            circle1.on("click", function() {
                alert("clicked");
            });
            //circle1.addEventListener("click", handleClick);
            stage.addChild(circle1);

//            circle2 = new createjs.Shape();
//            circle2.graphics.beginFill("blue").drawCircle(0, 0, 50);
//            circl/e2.x = circle1.x;
//            circle2.y = circle1.y + 150;
            //circle2.addEventListener("click", handleClick2);
            //stage.addChild(circle2);

            sound = "start";
            stage.update();
        }

        function handleClick(event) {
            console.log(sound);
            if(sound == "note1") {
                circle1.graphics.beginFill("green").drawCircle(0, 0, 50);
            }
            else {
                circle1.graphics.beginFill("red").drawCircle(0, 0, 50);
            }
            createjs.Sound.play("note1");
            sound = "note1";
            //stage.update();
        }

        function handleClick2(event) {
            console.log(sound);
            if(sound == "note2") {
                circle2.graphics.beginFill("green").drawCircle(0, 0, 50);
            }
            else {
                circle2.graphics.beginFill("blue").drawCircle(0, 0, 50);
            }
            createjs.Sound.play("note2");
            sound = "note2";
            stage.update();
        }
    </script>
</head>
<body onLoad="init();">
<canvas id="demoCanvas" width="500" height="300">
    alternate content
</canvas>
</body>
</html>